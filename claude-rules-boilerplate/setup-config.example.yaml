# Claude Code Boilerplate — Configuration Example
# Copy this file to setup-config.yaml and customize for your project.
# Then run: ./setup.sh --config setup-config.yaml

# ═══════════════════════════════════════════════════
# SECTION 1: PROJECT IDENTITY
# ═══════════════════════════════════════════════════
project:
  name: "my-project"
  type: "api"              # api | cli | library | worker | fullstack
  purpose: "Brief description of what the project does"
  language: "java21"       # java21 | typescript | python | go | kotlin | rust | csharp

  # Framework (must match language)
  # java21: quarkus | spring-boot
  # typescript: nestjs | express | fastify
  # python: fastapi | django | flask
  # go: stdlib | gin | fiber
  # kotlin: ktor | spring-boot
  # rust: axum | actix
  # csharp: dotnet
  framework: "quarkus"

  architecture: "hexagonal"  # hexagonal | clean | layered | modular

# ═══════════════════════════════════════════════════
# SECTION 2: TECHNICAL STACK
# ═══════════════════════════════════════════════════
stack:
  database:
    type: "postgresql"       # postgresql | mysql | mongodb | sqlite | none
    migration: "flyway"      # flyway | liquibase | prisma | alembic | none

  protocols:
    - rest                   # rest | grpc | graphql | websocket | tcp-custom
    - tcp-custom

  infrastructure:
    container: "docker"           # docker | podman | none
    orchestrator: "kubernetes"    # kubernetes | docker-compose | none
    observability: "opentelemetry" # opentelemetry | datadog | prometheus-only | none

  # Language-specific options (conditional sections)
  java:                          # Only applies when language = java21 | kotlin
    native_build: true           # GraalVM/Mandrel native compilation
    build_tool: "maven"          # maven | gradle

  # Options that generate additional rules
  resilience: true               # Circuit breaker, rate limiting, bulkhead, etc.
  smoke_tests: true              # External smoke test scaffolding

# ═══════════════════════════════════════════════════
# SECTION 3: CONVENTIONS
# ═══════════════════════════════════════════════════
conventions:
  languages:
    code: "english"           # Language for code (classes, methods, variables)
    commits: "english"        # Language for commit messages
    documentation: "english"  # Language for docs, stories, ADRs
    logs: "english"           # Language for application log messages

  git_scopes:
    - { scope: "auth", area: "Authentication module" }
    - { scope: "billing", area: "Billing and payments" }
    - { scope: "notifications", area: "Notification system" }

# ═══════════════════════════════════════════════════
# SECTION 4: SKILLS (maps to .claude/skills/)
# ═══════════════════════════════════════════════════
# Core skills are ALWAYS included — not listed here (opt-out only).
# Core: feature_lifecycle, commit_and_push, task_decomposer,
#        group_verifier, implement_story, run_tests,
#        troubleshoot, review, review_pr, audit_rules, plan_tests

skills:
  # Conditional skills (inferred automatically by default)
  review_api: auto               # true if "rest" in protocols
  instrument_otel: auto          # true if observability != none
  setup_environment: auto        # true if orchestrator != none
  run_smoke_api: auto            # true if smoke_tests + rest
  run_smoke_socket: auto         # true if smoke_tests + tcp-custom
  run_e2e: auto
  run_perf_test: auto

# ═══════════════════════════════════════════════════
# SECTION 5: AGENTS (maps to .claude/agents/)
# ═══════════════════════════════════════════════════
# Mandatory agents (always generated, cannot be disabled):
#   architect, tech_lead, developer
# These are structural requirements of the feature lifecycle.

agents:
  # Conditional engineers (inferred automatically)
  database_engineer: auto        # true if database != none (planning + review)
  security_engineer: auto        # true always (default: true)
  qa_engineer: auto              # true always (default: true)
  performance_engineer: auto     # true always (default: true)
  observability_engineer: auto   # true if observability != none
  devops_engineer: auto          # true if container or orchestrator != none
  api_engineer: auto             # true if "rest" in protocols

  # Adaptive model tiers
  adaptive_model:
    junior: "haiku"              # Migrations, Models, Ports, DTOs, Mappers, Config
    mid: "sonnet"                # Repository, Use Case, REST Resource, Tests
    senior: "opus"               # TCP Handlers, Complex Domain Engines

# ═══════════════════════════════════════════════════
# SECTION 6: HOOKS (maps to .claude/hooks/)
# ═══════════════════════════════════════════════════
hooks:
  post_compile: auto             # auto | true | false (auto = enabled for compiled languages)

# ═══════════════════════════════════════════════════
# SECTION 7: SETTINGS (maps to .claude/settings.json)
# ═══════════════════════════════════════════════════
settings:
  auto_generate: true            # Generate settings.json with permissions
